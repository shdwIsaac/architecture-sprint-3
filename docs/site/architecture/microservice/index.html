<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Microservice - FitLife Documentation</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Microservice";
        var mkdocs_page_input_path = "architecture\\microservice.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> FitLife Documentation
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Welcome to MkDocs</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Architecture</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../api/">Api</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../er/">Er</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Microservice</a>
    <ul class="current">
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../monolyte/">Monolyte</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">FitLife Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Architecture</li>
      <li class="breadcrumb-item active">Microservice</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h2 id="1">1. Декомпозиция на микросервисы</h2>
<ul>
<li>User Service (Сервис Пользователей) Аутентификация и авторизация пользователей. Управление учетными записями пользователей и настройками.</li>
<li>Heating Service (Сервис Управления Отоплением) Управление устройствами отопления (включение/выключение, установка температуры).
Обработка команд пользователей и отправка их на устройства.</li>
<li>Light Service (Сервис Управления Светом) Управление источниками освещений</li>
<li>Curtains Service (Сервис Управления Шторами) Управление датчиками штор</li>
<li>Temperature Monitoring Service (Сервис Мониторинга Температуры)
Получение данных с датчиков температуры.
Хранение и предоставление данных пользователям для мониторинга текущей температуры.</li>
<li>Device Management Service (Сервис Управления Устройствами)
Управление устройствами IoT (регистрация устройств, обновление прошивки, диагностика).</li>
<li>Notification Service (Сервис Уведомлений)
Отправка уведомлений пользователям (например, о выходе температуры за заданные рамки).</li>
<li>API Gateway
Центральная точка доступа для всех внешних запросов.</li>
<li>Message Broker (Kafka)
Используем для асинхронного взаимодействия микросервисов, передачи сообщений между сервисами.</li>
</ul>
<h2 id="2">2. Определение взаимодействия</h2>
<p>API Gateway: Обрабатывает внешние запросы и маршрутизирует их в нужные микросервисы.
Kafka: Используется для передачи событий между микросервисами (например, события изменения температуры или обновления состояния устройств).
База данных: Каждая служба работает с отдельной базой данных (паттерн базы данных на микросервис), однако Kafka будет использоваться для синхронизации между микросервисами.</p>
<h2 id="3">3. Визуализация архитектуры</h2>
<p>C4 — Уровень контейнеров (Containers)</p>
<div class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1085px" preserveAspectRatio="true" style="background: #ffffff" version="1.1" viewBox="0 0 1476 1085" width="1476px" zoomAndPan="magnify"><title>System Context Diagram - Управление отоплением</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="411.8105" x="525.4257" y="22.9951">System Context Diagram - Управление отоплением</text><g id="elem_user"><rect fill="#08427B" height="133.1875" rx="2.5" ry="2.5" style="stroke:#073B6F;stroke-width:0.5;" width="190.4268" x="199.28" y="44.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="55.8164" x="266.5852" y="65.4355">«person»</text><image height="48" width="48" x="270.4934" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACMElEQVR4Xu2YvUrFQBCFb+kj+Ai+gq3Y2PgA+gCCtZ2V2AhqaSNiqY1gYWMjaCvXykoEKy21sLCNfELgMscksz8mWfDAB3Kuye7sTmYnmcwtbU9KRozSECOVla3T6uTqvrqZPlcPT68/XNw+VtvH19XC+sGe/f9UxIhl8/Cy+vj8qrpEYIsbR1N7fSxihDK/urvMKoeKHbH3ikGMEJi8Z9WbtH92lxyEGCHErLwVqWfvG4IYXkiBXGIn7f29iOGBAe0kUkTVsmN4EcMD255bdgwvYnigFOYW54cdx4MYHlIqT5Niy6oYHuzgORRbUsXwYAfPoV4DeHl7t+MnK/Y8EMMDzVlu9foQ5y6jFAU7hhcxvOSsRLH5D2J4KbqVqMlxoK3tnEevPogRAiuXUpFiD69ZxIghZidSV75GjFiYkGc3KMEpOW8RIxXed0kNJsrOAO0ypTfnxGvEKA0xSkMMD3zfIedJFQ4hCPlUwrX1daQWbURseonRBhNue1D5rc53JkVQwN9c21Wt+D20JxLjN7hpztahSwTi3RExLDlbhhCxm55PkWLMkrvrDBW73rUTYtSQu/aGQ4h0snNzBdD1wPWptrZDDBjL6tfiebBzbA2AUjg2NT3QYkBbrR9KTS/9YoC9eAxqeu0UI/eH21yiu7VzLSqApnIqxn8Af6TiA3A/A9Bn5+lV0xcMMWDoJs6qrakTo4a6OwZxqLa97YkxC1HzMkMzNQRtE3cFUAJilMY3OGTNL0NDLqIAAAAASUVORK5CYII=" y="68.2656"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="129.3906" x="229.7981" y="131.1172">Пользователь</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="292.2683" y="147.8857"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.0996" x="209.28" y="164.1826">Пользователь</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="312.3796" y="164.1826"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.877" x="316.8298" y="164.1826">системы</text></g><g id="elem_iot"><rect fill="#08427B" height="101.4844" rx="2.5" ry="2.5" style="stroke:#073B6F;stroke-width:0.5;" width="155.7344" x="424.63" y="60.1469"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="55.8164" x="474.589" y="81.2855">«person»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="500.2721" y="97.1107"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="78.5859" x="463.2042" y="115.2641">Датчики</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="500.2721" y="132.0326"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.9131" x="434.63" y="148.3295">Умные</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="482.5431" y="148.3295"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.3711" x="486.9933" y="148.3295">устройства</text></g><g id="elem_APIGateway"><rect fill="#438DD5" height="52.5938" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="91.543" x="352.73" y="252.4869"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71.543" x="362.73" y="273.6255">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="56.3359" x="370.3335" y="291.3072">Шлюз</text></g><g id="elem_UserService"><rect fill="#438DD5" height="71.2188" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="159" x="7" y="380.0769"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71.543" x="50.7285" y="401.2155">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="64.8672" x="54.0664" y="418.8972">Сервис</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="139" x="17" y="437.5222">пользователей</text></g><g id="elem_HeatingService"><rect fill="#438DD5" height="71.2188" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="131.4531" x="303.77" y="575.0569"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71.543" x="333.7251" y="596.1955">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="111.4531" x="313.77" y="613.8772">Управление</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="111.0781" x="313.9575" y="632.5022">отоплением</text></g><g id="elem_TempService"><rect fill="#438DD5" height="71.2188" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="142.9844" x="1066" y="380.0769"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71.543" x="1101.7207" y="401.2155">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="111.5234" x="1081.7305" y="418.8972">Мониторинг</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="122.9844" x="1076" y="437.5222">температуры</text></g><g id="elem_DeviceService"><rect fill="#438DD5" height="71.2188" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="146.8125" x="397.09" y="784.0469"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71.543" x="434.7248" y="805.1855">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="111.4531" x="414.7697" y="822.8672">Управление</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="126.8125" x="407.09" y="841.4922">устройствами</text></g><g id="elem_ScenarioService"><rect fill="#438DD5" height="52.5938" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="188.125" x="444.43" y="389.3869"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71.543" x="502.721" y="410.5255">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="64.8672" x="454.43" y="428.2072">Сервис</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="5.5703" x="519.2972" y="428.2072"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="97.6875" x="524.8675" y="428.2072">сценариев</text></g><g id="elem_LightService"><rect fill="#438DD5" height="52.5938" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="203.0859" x="759.95" y="584.3769"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71.543" x="825.7215" y="605.5155">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="111.4531" x="769.95" y="623.1972">Управление</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="5.5703" x="881.4031" y="623.1972"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="66.0625" x="886.9734" y="623.1972">Светом</text></g><g id="elem_CurtainsService"><rect fill="#438DD5" height="71.2188" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="131.4531" x="491.77" y="575.0569"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71.543" x="521.7251" y="596.1955">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="111.4531" x="501.77" y="613.8772">Управление</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="83.7969" x="515.5981" y="632.5022">шторами</text></g><g id="elem_NotificationService"><rect fill="#438DD5" height="52.5938" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="214.8828" x="673.06" y="980.1969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71.543" x="744.7299" y="1001.3355">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="64.8672" x="683.06" y="1019.0172">Сервис</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="5.5703" x="747.9272" y="1019.0172"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="124.4453" x="753.4975" y="1019.0172">уведомлений</text></g><g id="elem_Kafka"><path d="M739.73,798.3569 L821.273,798.3569 C826.273,798.3569 826.273,819.6538 826.273,819.6538 C826.273,819.6538 826.273,840.9506 821.273,840.9506 L739.73,840.9506 C734.73,840.9506 734.73,819.6538 734.73,819.6538 C734.73,819.6538 734.73,798.3569 739.73,798.3569 " fill="#438DD5" style="stroke:#3C7FC0;stroke-width:0.5;"/><path d="M821.273,798.3569 C816.273,798.3569 816.273,819.6538 816.273,819.6538 C816.273,840.9506 821.273,840.9506 821.273,840.9506 " fill="none" style="stroke:#3C7FC0;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71.543" x="739.73" y="814.4955">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="51.5938" x="749.7046" y="832.1772">Kafka</text></g><g id="elem_UserDB"><path d="M6.86,550.2969 C6.86,540.2969 76.4967,540.2969 76.4967,540.2969 C76.4967,540.2969 146.1334,540.2969 146.1334,550.2969 L146.1334,671.0469 C146.1334,681.0469 76.4967,681.0469 76.4967,681.0469 C76.4967,681.0469 6.86,681.0469 6.86,671.0469 L6.86,550.2969 " fill="#438DD5" style="stroke:#3C7FC0;stroke-width:0.5;"/><path d="M6.86,550.2969 C6.86,560.2969 76.4967,560.2969 76.4967,560.2969 C76.4967,560.2969 146.1334,560.2969 146.1334,550.2969 " fill="none" style="stroke:#3C7FC0;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71.543" x="40.7252" y="575.4355">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="74.2716" y="591.2607"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="43.0859" x="16.86" y="609.4141">База</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="5.5703" x="59.9459" y="609.4141"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="70.6172" x="65.5163" y="609.4141">данных</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="78.5801" x="37.2067" y="624.3262">[PostgreSQL]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="74.2716" y="640.1514"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.7529" x="23.6242" y="656.4482">PostgreSQL</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="104.3771" y="656.4482"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20.542" x="108.8273" y="656.4482">БД</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.5605" x="20.2164" y="672.7451">Пользователей</text></g><g id="elem_DeviceDB"><path d="M400.86,954.2669 C400.86,944.2669 470.4967,944.2669 470.4967,944.2669 C470.4967,944.2669 540.1334,944.2669 540.1334,954.2669 L540.1334,1058.72 C540.1334,1068.72 470.4967,1068.72 470.4967,1068.72 C470.4967,1068.72 400.86,1068.72 400.86,1058.72 L400.86,954.2669 " fill="#438DD5" style="stroke:#3C7FC0;stroke-width:0.5;"/><path d="M400.86,954.2669 C400.86,964.2669 470.4967,964.2669 470.4967,964.2669 C470.4967,964.2669 540.1334,964.2669 540.1334,954.2669 " fill="none" style="stroke:#3C7FC0;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71.543" x="434.7252" y="979.4055">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="468.2716" y="995.2307"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="43.0859" x="410.86" y="1013.3841">База</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="5.5703" x="453.9459" y="1013.3841"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="70.6172" x="459.5163" y="1013.3841">данных</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="78.5801" x="431.2067" y="1028.2962">[PostgreSQL]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="468.2716" y="1044.1214"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20.542" x="420.4816" y="1060.4182">БД</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="441.0236" y="1060.4182"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.0381" x="445.4738" y="1060.4182">Устройств</text></g><g id="elem_TempDB"><path d="M1315.33,558.4469 C1315.33,548.4469 1387.496,548.4469 1387.496,548.4469 C1387.496,548.4469 1459.662,548.4469 1459.662,558.4469 L1459.662,662.9 C1459.662,672.9 1387.496,672.9 1387.496,672.9 C1387.496,672.9 1315.33,672.9 1315.33,662.9 L1315.33,558.4469 " fill="#438DD5" style="stroke:#3C7FC0;stroke-width:0.5;"/><path d="M1315.33,558.4469 C1315.33,568.4469 1387.496,568.4469 1387.496,568.4469 C1387.496,568.4469 1459.662,568.4469 1459.662,558.4469 " fill="none" style="stroke:#3C7FC0;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71.543" x="1351.7245" y="583.5855">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="1385.2709" y="599.4107"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="43.0859" x="1327.8593" y="617.5641">База</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="5.5703" x="1370.9452" y="617.5641"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="70.6172" x="1376.5155" y="617.5641">данных</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="78.5801" x="1348.206" y="632.4762">[PostgreSQL]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="1385.2709" y="648.3014"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20.542" x="1325.33" y="664.5982">БД</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="1345.872" y="664.5982"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.3398" x="1350.3222" y="664.5982">Температуры</text></g><g id="link_user_APIGateway"><path d="M335.9,177.9269 C352.21,203.9569 365.7305,225.5189 378.1505,245.3289 " fill="none" id="user-to-APIGateway" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="382.4,252.1069,380.6922,243.7353,375.6087,246.9224,382.4,252.1069" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="59.7129" x="363.5" y="219.6255">Запросы</text></g><g id="link_iot_APIGateway"><path d="M471.01,162.1069 C452.36,191.8669 433.7589,221.5285 418.7589,245.4585 " fill="none" id="iot-to-APIGateway" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="414.51,252.2369,421.3008,247.0518,416.217,243.8651,414.51,252.2369" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="59.7129" x="441.5" y="219.6255">Запросы</text></g><g id="link_APIGateway_UserService"><path d="M352.33,279.7269 C297.63,281.7869 205.82,292.0969 141.5,335.0769 C125.02,346.0869 116.0353,356.9359 106.8353,372.8959 " fill="none" id="APIGateway-to-UserService" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="102.84,379.8269,109.4344,374.3942,104.2362,371.3977,102.84,379.8269" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="59.7129" x="142.5" y="347.2155">Запросы</text></g><g id="link_APIGateway_HeatingService"><path d="M387.64,305.1969 C379.73,325.1369 369.7,353.8269 365.5,380.0769 C354.55,448.3769 359.4305,521.6021 364.2605,566.8321 " fill="none" id="APIGateway-to-HeatingService" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="365.11,574.7869,367.2436,566.5136,361.2775,567.1507,365.11,574.7869" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="59.7129" x="366.5" y="420.3255">Запросы</text></g><g id="link_APIGateway_TempService"><path d="M444.53,281.8469 C532.34,286.4769 729.43,300.1369 891.5,335.0769 C951.28,347.9669 1009.5847,366.9721 1058.0947,384.4721 " fill="none" id="APIGateway-to-TempService" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1065.62,387.1869,1059.1127,381.6501,1057.0767,387.2941,1065.62,387.1869" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="59.7129" x="946.5" y="347.2155">Запросы</text></g><g id="link_APIGateway_DeviceService"><path d="M377.71,305.3769 C318.72,381.2469 161.24,608.7169 267.5,754.0469 C296.91,794.2769 343.6677,809.0182 388.8777,814.9382 " fill="none" id="APIGateway-to-DeviceService" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="396.81,815.9769,389.2672,811.9636,388.4882,817.9128,396.81,815.9769" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="59.7129" x="270.5" y="500.4355">Запросы</text></g><g id="link_APIGateway_LightService"><path d="M444.6,285.4069 C537.78,299.4669 747.79,345.3869 843.5,481.2969 C864.88,511.6569 866.6776,548.223 864.9076,576.063 " fill="none" id="APIGateway-to-LightService" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="864.4,584.0469,867.9016,576.2533,861.9136,575.8726,864.4,584.0469" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="59.7129" x="816.5" y="420.3255">Запросы</text></g><g id="link_APIGateway_ScenarioService"><path d="M425.16,305.4669 C450.07,329.4769 481.2888,359.5664 506.1688,383.5364 " fill="none" id="APIGateway-to-ScenarioService" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="511.93,389.0869,508.2502,381.3759,504.0873,385.6968,511.93,389.0869" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="59.7129" x="469.5" y="347.2155">Запросы</text></g><g id="link_UserService_UserDB"><path d="M78.13,451.7069 C76.22,461.2469 74.46,471.6169 73.5,481.2969 C71.61,500.2669 71.1211,512.8791 71.5711,531.9291 " fill="none" id="UserService-to-UserDB" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="71.76,539.9269,74.5702,531.8583,68.5719,532,71.76,539.9269" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="37.752" x="74.5" y="500.4355">CRUD</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="112.252" y="500.4355"> </text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="69.0293" x="116.4297" y="500.4355">Операции</text></g><g id="link_DeviceService_DeviceDB"><path d="M470.5,855.4169 C470.5,880.3069 470.5,906.4869 470.5,935.9369 " fill="none" id="DeviceService-to-DeviceDB" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="470.5,943.9369,473.5,935.9369,467.5,935.9369,470.5,943.9369" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="37.752" x="471.5" y="904.4055">CRUD</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="509.252" y="904.4055"> </text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="69.0293" x="513.4297" y="904.4055">Операции</text></g><g id="link_HeatingService_DeviceService"><path d="M324.55,646.5369 C292.21,675.9469 258.36,718.7669 283.5,754.0469 C309.11,789.9869 348.2423,804.7335 388.7223,811.8935 " fill="none" id="HeatingService-to-DeviceService" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="396.6,813.2869,389.2448,808.9393,388.1998,814.8476,396.6,813.2869" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="64.793" x="299.6582" y="723.1855">Команды</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="81.7266" x="291.1914" y="737.1543">управления</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="95.1094" x="284.5" y="751.123">устройствами</text></g><g id="link_LightService_DeviceService"><path d="M860.78,637.2269 C858.43,669.4569 849.33,724.2669 815.5,754.0469 C795.34,771.7869 647.3343,794.629 552.1343,807.819 " fill="none" id="LightService-to-DeviceService" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="544.21,808.9169,552.546,810.7906,551.7226,804.8473,544.21,808.9169" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="64.793" x="860.6582" y="723.1855">Команды</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="81.7266" x="852.1914" y="737.1543">управления</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="95.1094" x="845.5" y="751.123">устройствами</text></g><g id="link_CurtainsService_DeviceService"><path d="M551.69,646.6169 C545.89,676.2569 535.38,719.3669 518.5,754.0469 C513.54,764.2169 511.6524,767.9767 504.9024,777.1767 " fill="none" id="CurtainsService-to-DeviceService" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="500.17,783.6269,507.3212,778.9514,502.4836,775.4021,500.17,783.6269" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="64.793" x="550.6582" y="723.1855">Команды</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="81.7266" x="542.1914" y="737.1543">управления</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="95.1094" x="535.5" y="751.123">устройствами</text></g><g id="link_TempService_TempDB"><path d="M1182.77,451.6369 C1219.64,480.0869 1266.0475,515.9182 1308.7675,548.8982 " fill="none" id="TempService-to-TempDB" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1315.1,553.7869,1310.6008,546.5235,1306.9342,551.2729,1315.1,553.7869" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="67.207" x="1255.5" y="493.4355">Хранение</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="1322.707" y="493.4355"> </text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="52.9629" x="1326.8848" y="493.4355">данных</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="1379.8477" y="493.4355"> </text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="8.2441" x="1384.0254" y="493.4355">о</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="89.5254" x="1279.1221" y="507.4043">температуре</text></g><g id="link_TempService_Kafka"><path d="M1144.47,451.7069 C1155.81,519.6969 1169.73,670.1969 1091.5,754.0469 C1056.04,792.0469 912.1533,808.4636 834.5333,814.8236 " fill="none" id="TempService-to-Kafka" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="826.56,815.4769,834.7783,817.8135,834.2883,811.8336,826.56,815.4769" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="84.6914" x="1153.5" y="608.3055">Публикация</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="1238.1914" y="608.3055"> </text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="52.9629" x="1242.3691" y="608.3055">данных</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="8.2441" x="1173.4424" y="622.2743">о</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="1181.6865" y="622.2743"> </text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="89.5254" x="1185.8643" y="622.2743">температуре</text></g><g id="link_ScenarioService_HeatingService"><path d="M465.15,442.4469 C445.9,452.1269 426.6,464.8869 412.5,481.2969 C389.74,507.7669 380.3452,538.8448 375.2652,566.9048 " fill="none" id="ScenarioService-to-HeatingService" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="373.84,574.7769,378.2172,567.4393,372.3131,566.3704,373.84,574.7769" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="65.9707" x="413.5" y="500.4355">Отправка</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="479.4707" y="500.4355"> </text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="52.2773" x="483.6484" y="500.4355">команд</text></g><g id="link_ScenarioService_LightService"><path d="M602.48,442.4569 C626.92,453.2669 654.63,466.7069 678.5,481.2969 C696.32,492.1869 698.63,497.9669 715.5,510.2969 C751.02,536.2569 785.9215,559.9174 815.6015,579.5874 " fill="none" id="ScenarioService-to-LightService" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="822.27,584.0069,817.2588,577.0868,813.9442,582.0881,822.27,584.0069" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="65.9707" x="716.5" y="500.4355">Отправка</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="782.4707" y="500.4355"> </text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="52.2773" x="786.6484" y="500.4355">команд</text></g><g id="link_ScenarioService_CurtainsService"><path d="M541.02,442.3169 C544.37,476.3569 549.5155,528.6554 553.2755,566.8154 " fill="none" id="ScenarioService-to-CurtainsService" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="554.06,574.7769,556.2611,566.5213,550.29,567.1096,554.06,574.7769" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="65.9707" x="547.5" y="500.4355">Отправка</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="613.4707" y="500.4355"> </text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="52.2773" x="617.6484" y="500.4355">команд</text></g><g id="link_HeatingService_Kafka"><path d="M371.25,646.7669 C374.86,679.4969 385.51,727.2069 416.5,754.0469 C422.52,759.2569 630.1563,793.9373 726.6763,809.8273 " fill="none" id="HeatingService-to-Kafka" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="734.57,811.1269,727.1636,806.8672,726.1889,812.7875,734.57,811.1269" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="68.0332" x="419.3193" y="723.1855">Подписка</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="487.3525" y="723.1855"> </text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="16.3887" x="491.5303" y="723.1855">на</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="82.084" x="422.5771" y="737.1543">обновления</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="92.2383" x="417.5" y="751.123">температуры</text></g><g id="link_LightService_Kafka"><path d="M897.61,637.2469 C933.73,666.0369 980.22,714.0169 952.5,754.0469 C924.35,794.6869 875.1556,808.7181 834.4656,814.3081 " fill="none" id="LightService-to-Kafka" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="826.54,815.3969,834.8739,817.2801,834.0573,811.336,826.54,815.3969" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="68.0332" x="978.0586" y="723.1855">Подписка</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="1046.0918" y="723.1855"> </text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="16.3887" x="1050.2695" y="723.1855">на</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="82.084" x="981.3164" y="737.1543">обновления</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="79.6406" x="961.5" y="751.123">источников</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="1041.1406" y="751.123"> </text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="37.8984" x="1045.3184" y="751.123">света</text></g><g id="link_CurtainsService_Kafka"><path d="M586.96,646.4869 C613.05,676.4369 652.9,720.0669 691.5,754.0469 C709.55,769.9369 724.8085,781.3034 742.3285,793.3534 " fill="none" id="CurtainsService-to-Kafka" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="748.92,797.8869,744.0286,790.8816,740.6285,795.8252,748.92,797.8869" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="68.0332" x="707.582" y="723.1855">Подписка</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="775.6152" y="723.1855"> </text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="16.3887" x="779.793" y="723.1855">на</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="82.084" x="710.8398" y="737.1543">обновления</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="78.0527" x="692.5" y="751.123">положения</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="770.5527" y="751.123"> </text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="36.5332" x="774.7305" y="751.123">штор</text></g><g id="link_Kafka_NotificationService"><path d="M780.5,841.1369 C780.5,875.0769 780.5,934.8569 780.5,971.8869 " fill="none" id="Kafka-to-NotificationService" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="780.5,979.8869,783.5,971.8869,777.5,971.8869,780.5,979.8869" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="65.9707" x="795.1816" y="897.4055">Отправка</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="93.334" x="781.5" y="911.3743">уведомлений</text></g></g></svg></div>

<h3 id="c4-components">C4 — Уровень компонентов (Components)</h3>
<p>Heating Service. Этот сервис управляет устройствами отопления и взаимодействует с другими микросервисами через Kafka.</p>
<div class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="707px" preserveAspectRatio="true" style="background: #ffffff" version="1.1" viewBox="0 0 633 707" width="633px" zoomAndPan="magnify"><title>C4 Diagram - Component Level (Heating Service)</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="387.1123" x="115.9438" y="22.9951">C4 Diagram - Component Level (Heating Service)</text><g id="cluster_HeatingService"><rect fill="none" height="435.41" rx="2.5" ry="2.5" style="stroke:#444444;stroke-width:1.0;stroke-dasharray:7.0,7.0;" width="620" x="7" y="266.4769"/><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="296.6328" x="168.6836" y="311.2659">Сервис управление отоплением</text><text fill="#444444" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="77.1094" x="278.4453" y="326.178">[Container]</text></g><g id="elem_HeatingAPI"><rect fill="#85BBF0" height="52.5938" rx="2.5" ry="2.5" style="stroke:#78A8D8;stroke-width:0.5;" width="102.5703" x="226.71" y="345.4769"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="82.5703" x="236.71" y="366.6155">«component»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="30.0625" x="262.9639" y="384.2972">API</text></g><g id="elem_CommandProcessor"><rect fill="#85BBF0" height="52.5938" rx="2.5" ry="2.5" style="stroke:#78A8D8;stroke-width:0.5;" width="183.4531" x="186.27" y="473.0769"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="82.5703" x="236.7114" y="494.2155">«component»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="59.9609" x="196.27" y="511.8972">Метод</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="5.5703" x="256.2309" y="511.8972"> </text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="97.9219" x="261.8013" y="511.8972">обработки</text></g><g id="elem_DeviceClient"><rect fill="#85BBF0" height="71.2188" rx="2.5" ry="2.5" style="stroke:#78A8D8;stroke-width:0.5;" width="166.1641" x="22.92" y="614.6669"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="82.5703" x="64.7169" y="635.8055">«component»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="67.1875" x="32.92" y="653.4872">Клиент</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="5.5703" x="100.1075" y="653.4872"> </text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="73.4063" x="105.6778" y="653.4872">сервиса</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="91.7266" x="60.1388" y="672.1122">устройств</text></g><g id="elem_KafkaProducer"><rect fill="#85BBF0" height="52.5938" rx="2.5" ry="2.5" style="stroke:#78A8D8;stroke-width:0.5;" width="206.3047" x="223.85" y="623.9769"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="82.5703" x="285.7172" y="645.1155">«component»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="106.2188" x="233.85" y="662.7972">Продьюсер</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="5.5703" x="340.0688" y="662.7972"> </text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="10.125" x="345.6391" y="662.7972">в</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="5.5703" x="355.7641" y="662.7972"> </text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="58.8203" x="361.3344" y="662.7972">кафку</text></g><g id="elem_HeatingDB"><rect fill="#85BBF0" height="71.2188" rx="2.5" ry="2.5" style="stroke:#78A8D8;stroke-width:0.5;" width="145.4063" x="465.3" y="614.6669"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="82.5703" x="496.718" y="635.8055">«component»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="62.4453" x="475.3" y="653.4872">DbLink</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="5.5703" x="537.7453" y="653.4872"> </text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="10.125" x="543.3156" y="653.4872">в</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="5.5703" x="553.4406" y="653.4872"> </text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="41.6953" x="559.0109" y="653.4872">базу</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="70.6172" x="502.6945" y="672.1122">данных</text></g><g id="elem_user"><rect fill="#08427B" height="133.1875" rx="2.5" ry="2.5" style="stroke:#073B6F;stroke-width:0.5;" width="186.373" x="184.81" y="44.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="55.8164" x="250.0883" y="65.4355">«person»</text><image height="48" width="48" x="253.9965" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACMElEQVR4Xu2YvUrFQBCFb+kj+Ai+gq3Y2PgA+gCCtZ2V2AhqaSNiqY1gYWMjaCvXykoEKy21sLCNfELgMscksz8mWfDAB3Kuye7sTmYnmcwtbU9KRozSECOVla3T6uTqvrqZPlcPT68/XNw+VtvH19XC+sGe/f9UxIhl8/Cy+vj8qrpEYIsbR1N7fSxihDK/urvMKoeKHbH3ikGMEJi8Z9WbtH92lxyEGCHErLwVqWfvG4IYXkiBXGIn7f29iOGBAe0kUkTVsmN4EcMD255bdgwvYnigFOYW54cdx4MYHlIqT5Niy6oYHuzgORRbUsXwYAfPoV4DeHl7t+MnK/Y8EMMDzVlu9foQ5y6jFAU7hhcxvOSsRLH5D2J4KbqVqMlxoK3tnEevPogRAiuXUpFiD69ZxIghZidSV75GjFiYkGc3KMEpOW8RIxXed0kNJsrOAO0ypTfnxGvEKA0xSkMMD3zfIedJFQ4hCPlUwrX1daQWbURseonRBhNue1D5rc53JkVQwN9c21Wt+D20JxLjN7hpztahSwTi3RExLDlbhhCxm55PkWLMkrvrDBW73rUTYtSQu/aGQ4h0snNzBdD1wPWptrZDDBjL6tfiebBzbA2AUjg2NT3QYkBbrR9KTS/9YoC9eAxqeu0UI/eH21yiu7VzLSqApnIqxn8Af6TiA3A/A9Bn5+lV0xcMMWDoJs6qrakTo4a6OwZxqLa97YkxC1HzMkMzNQRtE3cFUAJilMY3OGTNL0NDLqIAAAAASUVORK5CYII=" y="68.2656"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="129.3906" x="213.3012" y="131.1172">Пользователь</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="275.7714" y="147.8857"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.0996" x="194.81" y="164.1826">Пользователь</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="297.9096" y="164.1826"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.8232" x="302.3598" y="164.1826">сервиса</text></g><g id="link_user_HeatingAPI"><path d="M278,177.8869 C278,232.2669 278,298.4969 278,337.0969 " fill="none" id="user-to-HeatingAPI" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="278,345.0969,281,337.0969,275,337.0969,278,345.0969" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="64.793" x="288.2578" y="219.6155">Команды</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="81.7266" x="279.791" y="233.5843">управления</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="83.3086" x="279" y="247.553">отоплением</text></g><g id="link_HeatingAPI_CommandProcessor"><path d="M278,398.4969 C278,420.1669 278,443.0269 278,464.6869 " fill="none" id="HeatingAPI-to-CommandProcessor" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="278,472.6869,281,464.6869,275,464.6869,278,472.6869" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="75.0879" x="279" y="440.2155">Обработка</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="354.0879" y="440.2155"> </text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="52.2773" x="358.2656" y="440.2155">команд</text></g><g id="link_CommandProcessor_DeviceClient"><path d="M206.03,526.0969 C190.05,533.9669 174.02,543.7669 161,555.6669 C143.33,571.8169 133.1416,587.7842 123.8416,607.0242 " fill="none" id="CommandProcessor-to-DeviceClient" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="120.36,614.2269,126.5426,608.3298,121.1405,605.7186,120.36,614.2269" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="42.8086" x="162" y="567.8055">Вызов</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="204.8086" y="567.8055"> </text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="22.5469" x="208.9863" y="567.8055">API</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="231.5332" y="567.8055"> </text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="26.1855" x="235.7109" y="567.8055">для</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="68.7949" x="177.5508" y="581.7743">устройств</text></g><g id="link_CommandProcessor_KafkaProducer"><path d="M272.34,525.8169 C269.66,542.9369 268.33,565.7469 275,584.6669 C280.07,599.0669 284.5434,606.6391 294.2734,617.5791 " fill="none" id="CommandProcessor-to-KafkaProducer" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="299.59,623.5569,296.5151,615.5854,292.0317,619.5728,299.59,623.5569" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="84.6914" x="276" y="567.8055">Публикация</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="360.6914" y="567.8055"> </text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="58.3594" x="364.8691" y="567.8055">событий</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="7.5938" x="324.3809" y="581.7743">в</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="331.9746" y="581.7743"> </text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="38.6953" x="336.1523" y="581.7743">Kafka</text></g><g id="link_CommandProcessor_HeatingDB"><path d="M363.68,526.0669 C385.35,534.1369 408.11,544.0369 428,555.6669 C455.49,571.7469 476.9469,589.4319 497.4669,608.6919 " fill="none" id="CommandProcessor-to-HeatingDB" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="503.3,614.1669,499.52,606.5045,495.4138,610.8794,503.3,614.1669" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="84.4746" x="497.1387" y="567.8055">Обновление</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="69.7793" x="468" y="581.7743">состояния</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="537.7793" y="581.7743"> </text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="68.7949" x="541.957" y="581.7743">устройств</text></g></g></svg></div>
<h3 id="c4-code">C4 — Уровень кода (Code)</h3>
<p>Command Processor в микросервисе Heating Service.</p>
<div class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="251px" preserveAspectRatio="true" style="background: #ffffff" version="1.1" viewBox="0 0 591 251" width="591px" zoomAndPan="magnify"><defs/><g><g id="elem_CommandProcessor"><rect codeLine="5" fill="#F1F1F1" height="80.5938" id="CommandProcessor" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="232.1172" x="199.48" y="7"/><ellipse cx="241.5604" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M244.5292,28.6406 Q243.951,28.9375 243.3104,29.0781 Q242.6698,29.2344 241.9667,29.2344 Q239.4667,29.2344 238.1385,27.5938 Q236.826,25.9375 236.826,22.8125 Q236.826,19.6875 238.1385,18.0313 Q239.4667,16.375 241.9667,16.375 Q242.6698,16.375 243.3104,16.5313 Q243.9667,16.6875 244.5292,16.9844 L244.5292,19.7031 Q243.9042,19.125 243.3104,18.8594 Q242.7167,18.5781 242.0917,18.5781 Q240.7479,18.5781 240.0604,19.6563 Q239.3729,20.7188 239.3729,22.8125 Q239.3729,24.9063 240.0604,25.9844 Q240.7479,27.0469 242.0917,27.0469 Q242.7167,27.0469 243.3104,26.7813 Q243.9042,26.5 244.5292,25.9219 L244.5292,28.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.9385" x="261.5783" y="27.8467">CommandProcessor</text><line style="stroke:#181818;stroke-width:0.5;" x1="200.48" x2="430.5972" y1="39" y2="39"/><line style="stroke:#181818;stroke-width:0.5;" x1="200.48" x2="430.5972" y1="47" y2="47"/><ellipse cx="210.48" cy="68.7969" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206.1172" x="219.48" y="63.9951">processCommand(command:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.2754" x="219.48" y="80.292">HeatingCommand)</text></g><g id="elem_HeatingCommand"><rect codeLine="9" fill="#F1F1F1" height="96.8906" id="HeatingCommand" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="173.082" x="7" y="147.59"/><ellipse cx="28.4208" cy="163.59" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M31.3896,169.2306 Q30.8115,169.5275 30.1708,169.6681 Q29.5302,169.8244 28.8271,169.8244 Q26.3271,169.8244 24.999,168.1838 Q23.6865,166.5275 23.6865,163.4025 Q23.6865,160.2775 24.999,158.6213 Q26.3271,156.965 28.8271,156.965 Q29.5302,156.965 30.1708,157.1213 Q30.8271,157.2775 31.3896,157.5744 L31.3896,160.2931 Q30.7646,159.715 30.1708,159.4494 Q29.5771,159.1681 28.9521,159.1681 Q27.6083,159.1681 26.9208,160.2463 Q26.2333,161.3088 26.2333,163.4025 Q26.2333,165.4963 26.9208,166.5744 Q27.6083,167.6369 28.9521,167.6369 Q29.5771,167.6369 30.1708,167.3713 Q30.7646,167.09 31.3896,166.5119 L31.3896,169.2306 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.8135" x="43.8477" y="168.4367">HeatingCommand</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="179.082" y1="179.59" y2="179.59"/><ellipse cx="18" cy="193.2384" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="17.4932" x="27" y="196.5851">id:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="44.4932" y="196.5851"> </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.2148" x="48.9434" y="196.5851">long</text><ellipse cx="18" cy="209.5353" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.0234" x="27" y="212.882">temperature:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="120.0234" y="212.882"> </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.6084" x="124.4736" y="212.882">Double</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="179.082" y1="220.1838" y2="220.1838"/><ellipse cx="18" cy="233.8322" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.1084" x="27" y="237.1789">execute()</text></g><g id="elem_DeviceClient"><rect codeLine="15" fill="#F1F1F1" height="80.5938" id="DeviceClient" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="200.8359" x="215.12" y="155.74"/><ellipse cx="267.0834" cy="171.74" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M270.0521,177.3806 Q269.474,177.6775 268.8334,177.8181 Q268.1928,177.9744 267.4896,177.9744 Q264.9896,177.9744 263.6615,176.3337 Q262.349,174.6775 262.349,171.5525 Q262.349,168.4275 263.6615,166.7712 Q264.9896,165.115 267.4896,165.115 Q268.1928,165.115 268.8334,165.2712 Q269.4896,165.4275 270.0521,165.7244 L270.0521,168.4431 Q269.4271,167.865 268.8334,167.5994 Q268.2396,167.3181 267.6146,167.3181 Q266.2709,167.3181 265.5834,168.3962 Q264.8959,169.4587 264.8959,171.5525 Q264.8959,173.6462 265.5834,174.7244 Q266.2709,175.7869 267.6146,175.7869 Q268.2396,175.7869 268.8334,175.5212 Q269.4271,175.24 270.0521,174.6619 L270.0521,177.3806 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.4092" x="287.5834" y="176.5867">DeviceClient</text><line style="stroke:#181818;stroke-width:0.5;" x1="216.12" x2="414.9559" y1="187.74" y2="187.74"/><line style="stroke:#181818;stroke-width:0.5;" x1="216.12" x2="414.9559" y1="195.74" y2="195.74"/><ellipse cx="226.12" cy="217.5369" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135.7207" x="235.12" y="212.7351">setTemperature(id:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="370.8407" y="212.7351"> </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34.665" x="375.2909" y="212.7351">long,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.0234" x="235.12" y="229.032">temperature:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="328.1434" y="229.032"> </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.0703" x="332.5936" y="229.032">Double)</text></g><g id="elem_KafkaProducer"><rect codeLine="19" fill="#F1F1F1" height="80.5938" id="KafkaProducer" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133.9648" x="450.56" y="155.74"/><ellipse cx="465.56" cy="171.74" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M468.5288,177.3806 Q467.9506,177.6775 467.31,177.8181 Q466.6694,177.9744 465.9663,177.9744 Q463.4663,177.9744 462.1381,176.3337 Q460.8256,174.6775 460.8256,171.5525 Q460.8256,168.4275 462.1381,166.7712 Q463.4663,165.115 465.9663,165.115 Q466.6694,165.115 467.31,165.2712 Q467.9663,165.4275 468.5288,165.7244 L468.5288,168.4431 Q467.9038,167.865 467.31,167.5994 Q466.7163,167.3181 466.0913,167.3181 Q464.7475,167.3181 464.06,168.3962 Q463.3725,169.4587 463.3725,171.5525 Q463.3725,173.6462 464.06,174.7244 Q464.7475,175.7869 466.0913,175.7869 Q466.7163,175.7869 467.31,175.5212 Q467.9038,175.24 468.5288,174.6619 L468.5288,177.3806 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.9648" x="479.56" y="176.5867">KafkaProducer</text><line style="stroke:#181818;stroke-width:0.5;" x1="451.56" x2="583.5248" y1="187.74" y2="187.74"/><line style="stroke:#181818;stroke-width:0.5;" x1="451.56" x2="583.5248" y1="195.74" y2="195.74"/><ellipse cx="461.56" cy="217.5369" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.6455" x="470.56" y="212.7351">publish(event:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.4268" x="470.56" y="229.032">HeatingEvent)</text></g><g id="link_CommandProcessor_HeatingCommand"><path codeLine="23" d="M255.46,88 C227.86,106.25 199.8856,124.7418 170.9256,143.8818 " fill="none" id="CommandProcessor-to-HeatingCommand" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="165.92,147.19,175.6338,145.5647,170.0913,144.4331,171.2228,138.8906,165.92,147.19" style="stroke:#666666;stroke-width:1.0;"/></g><g id="link_CommandProcessor_DeviceClient"><path codeLine="24" d="M315.54,88 C315.54,108.88 315.54,128.41 315.54,149.29 " fill="none" id="CommandProcessor-to-DeviceClient" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="315.54,155.29,319.54,146.29,315.54,150.29,311.54,146.29,315.54,155.29" style="stroke:#666666;stroke-width:1.0;"/></g><g id="link_CommandProcessor_KafkaProducer"><path codeLine="25" d="M370.21,88 C398.95,108.88 429.2252,130.8842 457.9752,151.7642 " fill="none" id="CommandProcessor-to-KafkaProducer" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="462.83,155.29,457.8984,146.7648,458.7844,152.3518,453.1973,153.2378,462.83,155.29" style="stroke:#666666;stroke-width:1.0;"/></g></g></svg></div>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../er/" class="btn btn-neutral float-left" title="Er"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../monolyte/" class="btn btn-neutral float-right" title="Monolyte">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../er/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../monolyte/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
